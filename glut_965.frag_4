#version 130

uniform vec2 iResolution;
uniform vec4 iMouse;
uniform sampler2D iChannel0;

void
main ()
{
  vec4 C;
  vec2 U = gl_FragCoord.xy;
  vec4 p = texture(iChannel0,U/iResolution);

  if (iMouse.z>0.)
  {
    if (p.z>0.)
      C = vec4(iMouse.xy,p.xy);
    else
      C = vec4(iMouse.xy,iMouse.xy);
  }
  else
    C = vec4(-iResolution,-iResolution);

  gl_FragColor = C;
}
